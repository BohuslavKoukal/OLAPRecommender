@model Recommender2.ViewModels.BrowseCubeViewModel
@Scripts.Render("~/bundles/browsecube")
<h2>Mine rules in @Model.Dataset.Name</h2>
<p>
    @using (Html.BeginForm("CreateDataset", "Upload", null, FormMethod.Post))
    {
        <div class="form-horizontal">
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            <div class="form-group">
                I am interested in rules, containing at least <input type="text"> rows.<br />
                I would like to obtain around <input type="text"> strongest rules.<br />
                <a href="#" id="modalOpen">Define subcube to mine in</a> (if there are some dimensions not commensurable with the rest, you have to exclude them to get meaningful results)
            </div>

            <div class="form-group">
                <div class="col-md-offset-2 col-md-10">
                    <input type="submit" value="Mine rules" class="btn btn-default" />
                </div>
            </div>
        </div>
    }
    </p>

<div id="myModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>Apply filters</h2>
        </div>
        <div class="modal-body">
            <div class="form-group">

                @for (var i = 0; i < Model.Filter.Dimensions.Count; i++)
                {
                    var dimension = Model.Filter.Dimensions[i];
                    <div class="floating-box">
                        <strong>@Html.DisplayFor(m => Model.Filter.Dimensions[i].DimensionName)</strong><br />
                        @Html.Hidden($"dimensions[{i}].Key", dimension.DimensionId)
                        @for (var j = 0; j < dimension.Values.Count; j++)
                        {
                            var value = dimension.Values[j];
                            @Html.Hidden($"dimensions[{i}].Value[{j}].Key", value.Id)
                            @Html.CheckBox($"dimensions[{i}].Value[{j}].Value", value.Checked)
                            @Html.Label(value.Value, " " + value.Value)
                            @Html.Hidden($"dimensions[{i}].Value[{j}].Value", value.Id, new { value = false })
                            <br />
                        }
                    </div>
                }

                <p><span class="close btn btn-default">Apply filters</span></p>
            </div>
            <p></p>
        </div>
    </div>

</div>



